
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Task 1 Tutorial Ц White Card & PPE</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body{background:#f3f5fa;font-family:system-ui,Roboto,sans-serif}
  .card{max-width:64rem;margin:auto;background:#fff;border-radius:1rem;
        box-shadow:0 8px 24px rgba(0,0,0,.08);overflow:hidden}
  .btn{padding:.55rem 1.3rem;font-weight:600;border-radius:.375rem;transition:.2s}
  .btn-blue{background:#2563eb;color:#fff}.btn-blue:hover{background:#1e4ed8}
  .btn-grey{background:#6b7280;color:#fff}.btn-grey:hover{background:#4b5563}
  .btn[disabled]{background:#cbd5e1!important;cursor:not-allowed}
  .progress-bg{height:.5rem;background:#e2e8f0;border-radius:.375rem}
  .progress-fill{height:100%;background:#2563eb;width:0;transition:width .3s}
  textarea{width:100%;border:2px solid #cbd5e1;border-radius:.375rem;
           padding:1rem;font-size:1rem;resize:vertical}
  textarea:focus{outline:none;border-color:#2563eb}
  details summary{cursor:pointer;font-weight:600}
  details[open] summary svg{transform:rotate(180deg)}
</style>
</head>
<body class="p-4">


<!-- <div style="text-align: center; margin: 1rem auto;">
  <a href="../evidence-central-index.html" class="index-map-btn" style="
    display: inline-block;
    background: linear-gradient(135deg, #28a745 0%, #5cc56f 100%);
    color: white;
    padding: 0.75rem 1.5rem;
    border-radius: 8px;
    text-decoration: none;
    font-weight: 600;
    font-size: 1.1rem;
    box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);
    transition: all 0.3s ease;
  " onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 16px rgba(40, 167, 69, 0.4)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(40, 167, 69, 0.3)'">
    Index Map
  </a>
</div> -->

<div class="card">
  <!-- main panel -->
  <div class="p-8" id="panel"></div>

  <!-- nav -->
  <div class="bg-slate-50 border-t border-slate-200 px-8 py-4 flex flex-col gap-4">
    <div class="flex justify-between items-center">
      <button id="prev" class="btn btn-grey">Previous</button>
      <div class="font-semibold text-blue-700">
        Topic <span id="stepNow"></span>/<span id="stepTotal"></span>
      </div>
      <button id="next" class="btn btn-blue">Next</button>
    </div>
    <div class="progress-bg"><div id="bar" class="progress-fill"></div></div>
  </div>
</div>

<!-- ===== Templates ===== -->
<template id="tpl">
<section>
  <h2 class="text-2xl font-bold text-slate-800 mb-2 title"></h2>
  <p class="mb-6 text-slate-600 desc"></p>

  <details class="mb-6 bg-blue-50 border border-blue-200 rounded-lg">
    <summary class="p-4 flex justify-between items-center text-blue-800">
      <span>Tutor Tip</span>
      <svg class="w-4 h-4 transition-transform" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.25 8.29a.75.75 0 01-.02-1.08z" clip-rule="evenodd"/>
      </svg>
    </summary>
    <div class="p-4 border-t border-blue-100 text-blue-900 tip"></div>
  </details>

  <div class="space-y-6 qWrap"></div>

  <details class="mt-6 stretch hidden">
    <summary class="cursor-pointer font-medium text-blue-700">Stretch Question</summary>
    <div class="mt-3">
      <p class="mb-2 stretchQ"></p>
      <button class="btn btn-grey revealStretch">Reveal</button>
      <p class="hidden mt-2 modelStretch text-green-700 bg-green-100 border-l-4 border-green-500 p-2 rounded"></p>
    </div>
  </details>
</section>
</template>

<template id="qTpl">
<div>
  <p class="font-medium mb-1 qText"></p>
  <textarea rows="3" class="answer mb-2"></textarea>
  <button class="btn btn-grey reveal">Reveal</button>
  <p class="hidden mt-2 model text-green-700 bg-green-100 border-l-4 border-green-500 p-2 rounded"></p>
</div>
</template>

<script>
/* -------- Scenario Data -------- */
const data=[
  {
    title:"тЪая╕П Introduction Ц White Card & PPE",
    desc:"This tutorial walks you through the basics of White Card requirements and proper personal protective equipment.",
    tip:"Always check your PPE before you start work.",
    qs:[
      {q:"Why is a White Card needed before you can work on site?",a:"It demonstrates you understand fundamental safety responsibilities."},
      {q:"Name two essential pieces of PPE for most construction tasks.",a:"Hard hat and safety boots."}
    ]


];

/* -------- DOM -------- */
const panel=document.getElementById('panel');
const prev=document.getElementById('prev');
const next=document.getElementById('next');
const bar=document.getElementById('bar');
const stepNow=document.getElementById('stepNow');
const stepTotal=document.getElementById('stepTotal');

let idx=0;stepTotal.textContent=data.length;

/* -------- Render -------- */
function render(){
  const s=data[idx];
  /* Base template */
  const frag=document.importNode(document.getElementById('tpl').content,true);
  frag.querySelector('.title').innerHTML=s.title;
  frag.querySelector('.desc').textContent=s.desc;
  frag.querySelector('.tip').textContent=s.tip;

  /* Questions */
  const qWrap=frag.querySelector('.qWrap');
  s.qs.forEach(obj=>{
    const qDiv=document.importNode(document.getElementById('qTpl').content,true);
    qDiv.querySelector('.qText').textContent=obj.q;
    const model=qDiv.querySelector('.model');
    model.textContent='Model: '+obj.a;
    qDiv.querySelector('.reveal').onclick=()=>model.classList.toggle('hidden');
    qWrap.appendChild(qDiv);
  });

  /* Stretch (optional) */
  if(s.stretch){
    const st=frag.querySelector('.stretch');
    st.classList.remove('hidden');
    st.querySelector('.stretchQ').textContent=s.stretch.q;
    st.querySelector('.modelStretch').textContent=s.stretch.a;
    st.querySelector('.revealStretch').onclick=e=>{
      e.target.nextElementSibling.classList.remove('hidden');
    };
  }

  panel.innerHTML='';
  panel.appendChild(frag);

  /* Nav status */
  prev.disabled=idx===0;
  next.disabled=idx===data.length-1;
  next.textContent=idx===data.length-1?'Finish':'Next';
  stepNow.textContent=idx+1;
  bar.style.width=((idx+1)/data.length*100)+'%';
}

/* -------- Events -------- */
prev.onclick=()=>{if(idx>0){idx--;render();}};
next.onclick=()=>{if(idx<data.length-1){idx++;render();}};

/* -------- Kick off -------- */
render();
</script>
  <script src="../search.js"></script>
</body>
</html>

